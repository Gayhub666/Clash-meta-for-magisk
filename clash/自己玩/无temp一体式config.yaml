#è¯´æ˜ï¼šåªéœ€è¦åœ¨119-188è¡Œçš„urlé‡Œé¢å¡«å†™è®¢é˜…åœ°å€ï¼Œåœ¨ç½‘é¡µä»ªè¡¨ç›˜æ‹‰åˆ°æœ€åº•ä¸‹å¯¹åº”åå­—çš„ç»„ç‚¹å¼€ï¼Œupdateä¸€æ¬¡å°±å¯ä»¥ç”¨äº†ã€‚å¦‚æœä¸èƒ½updateï¼Œé»˜è®¤èŠ‚ç‚¹é€‰æ‹©é¦™æ¸¯
#å¦‚æœä½ æœ‰è‡ªå·±çš„é…ç½®ï¼Œä¹Ÿå¯ä»¥è‡ªå·±æ›¿æ¢è¿›å»ï¼Œä½†é¦–å…ˆä½ åº”è¯¥æ¸…æ¥šéœ€è¦åŠ¨å“ªé‡Œ
mixed-port: 7890
tproxy-port: 7891

tun:
  enable: false
  stack: system
  dns-hijack:
    - '0.0.0.0:53'
  auto-route: true
  auto-detect-interface: true

unified-delay: false
geodata-mode: true
tcp-concurrent: false

allow-lan: true
mode: rule
log-level: debug
ipv6: false
udp: true

external-controller: 0.0.0.0:9090
external-ui: ui
secret: ""

profile:
  store-fake-ip: true
sniffer:
  enable: false
dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: false
  default-nameserver:
    - 114.114.114.114
    - 223.5.5.5
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - '+.lan'
    - '+.cn'
    - '+.10010.com'
    - '+.chinaunicom.com'
    - '+.baidu.com'
    - '*.alipay.com'
    - '*.alipayobjects.com'
    - '*.jijifun.com'
    - 'connect.rom.miui.com'
    - 'localhost.ptlogin2.qq.com'
    - '+.msftnsci.com'
    - '+.msftconnecttest.com'
    - 'dl.google.com'
  proxy-server-nameserver:
    - https://dns.alidns.com/dns-query
  nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
  fallback:
    - https://dns.adguard.com/dns-query#è‡ªåŠ¨é€‰æ‹©
    - https://dns.google/dns-query#è‡ªåŠ¨é€‰æ‹©
    - https://cloudflare-dns.com/dns-query#è‡ªåŠ¨é€‰æ‹©
  fallback-filter:
        geoip: true
        geoip-code: CN
        geosite: 
            - GFW
            - GREATFIRE

proxies:
#é”šç‚¹
p: &p
  type: http
  interval: 1800
  health-check:
    enable: true
    url: http://www.gstatic.com/generate_204
    interval: 300

c: &c
  type: http
  behavior: classical
  interval: 86400

#æ”¹ä¸‹é¢ä»£ç†æä¾›å•†çš„åå­—çš„è¯ï¼Œè¿™é‡Œé¢çš„åå­—ä¹Ÿéœ€è¦ä¸€å¹¶ä¿®æ”¹
u: &u
  type: select
  use:
    - test
    - test1
    - test2
    - test3
    - test4
    - test5
    - test6
    - test7
    - test8
    - test9
    - test10
    - test11
    - test12

pr: &pr
  type: select
  proxies:
    - é»˜è®¤
    - è‡ªåŠ¨é€‰æ‹©
    - ä¸­å›½
    - é¦™æ¸¯
    - å°æ¹¾
    - æ—¥æœ¬
    - æ–°åŠ å¡
    - ç¾å›½
    - å…¶å®ƒåœ°åŒº
    - ä¸“çº¿
    - å…¨éƒ¨
    - ç›´è¿
    - æ‹¦æˆª/é˜»æ–­
    - è·³è¿‡åŒ¹é…

proxy-providers:

  test: #è¿™æ˜¯åå­—ï¼Œå¯ä»¥éšä¾¿æ”¹ï¼Œå–œæ¬¢å°±è¡Œï¼Œä½†æ˜¯éœ€è¦ä¸€å¹¶æ”¹åŠ¨ä¸Šé¢çš„é”šç‚¹é‡Œé¢çš„åå­—
    <<: *p
    url: "è¿™é‡Œå†™è®¢é˜…ï¼Œä¸€ä¸ªæœºåœºå†™ä¸€ä¸ªé‡Œé¢ï¼Œä¸‹é¢ä»¥æ­¤ç±»æ¨"
    path: ./proxy_providers/test.yaml
    #pathä¸€èˆ¬ä¸éœ€è¦æ”¹ï¼Œåæ­£åˆçœ‹ä¸åˆ°
    
    #å¦‚æœè§‰å¾—ä¸å¥½çœ‹ï¼Œä¹Ÿå¯ä»¥æŠŠä¸‹é¢çš„å¤šä½™çš„åˆ æ‰ï¼Œuseçš„é”šç‚¹é‡Œé¢çš„æä¾›å•†åˆ æ‰å°±è¡Œ

  test1:
    <<: *p
    url: ""
    path: ./proxy_providers/test1.yaml

  test2:
    <<: *p
    url: ""
    path: ./proxy_providers/test2.yaml

  test3:
    <<: *p
    url: ""
    path: ./proxy_providers/test3.yaml

  test4:
    <<: *p
    url: ""
    path: ./proxy_providers/test4.yaml

  test5:
    <<: *p
    url: ""
    path: ./proxy_providers/test5.yaml

  test6:
    <<: *p
    url: ""
    path: ./proxy_providers/test6.yaml

  test7:
    <<: *p
    url: ""
    path: ./proxy_providers/test7.yaml

  test8:
    <<: *p
    url: ""
    path: ./proxy_providers/test8.yaml

  test9:
    <<: *p
    url: ""
    path: ./proxy_providers/test9.yaml

  test10:
    <<: *p
    url: ""
    path: ./proxy_providers/test10.yaml

  test11:
    <<: *p
    url: ""
    path: ./proxy_providers/test11.yaml

  test12:
    <<: *p
    url: ""
    path: ./proxy_providers/test12.yaml


proxy-groups:

  - name: é»˜è®¤
    type: select
    proxies:
      - DIRECT
      - ä¸­å›½
      - é¦™æ¸¯
      - å°æ¹¾
      - æ—¥æœ¬
      - æ–°åŠ å¡
      - ç¾å›½
      - å…¶å®ƒåœ°åŒº
      - ä¸“çº¿
      - å…¨éƒ¨

  - name: Google
    <<: *pr

  - name: Google Voice
    <<: *pr

#ç¤¾äº¤
  - name: Telegram
    <<: *pr

  - name: Instagram
    <<: *pr

  - name: line
    <<: *pr

  - name: pixiv
    <<: *pr

  - name: ehentai
    <<: *pr

#æµåª’ä½“

  - name: å“”å“©å“”å“©
    <<: *pr

  - name: å“”å“©ä¸œå—äºš
    <<: *pr

  - name: å·´å“ˆå§†ç‰¹
    <<: *pr

  - name: Niconico
    <<: *pr

  - name: YouTube
    <<: *pr

  - name: NETFLIX
    <<: *pr

  - name: Spotify
    <<: *pr

  - name: PayPal
    <<: *pr

#æ‚ä¸ƒæ‚å…«
  - name: æ¸¸æˆ
    <<: *pr

  - name: å¾®åšå®šä½
    <<: *pr

  - name: å›½å†…
    type: select
    proxies:
      - ç›´è¿
      - é»˜è®¤
      - è‡ªåŠ¨é€‰æ‹©
      - ä¸­å›½
      - é¦™æ¸¯
      - å°æ¹¾
      - æ—¥æœ¬
      - æ–°åŠ å¡
      - ç¾å›½
      - å…¶å®ƒåœ°åŒº
      - ä¸“çº¿
      - å…¨éƒ¨
      - æ‹¦æˆª/é˜»æ–­
      - è·³è¿‡åŒ¹é…

  - name: å…¶ä»–
    <<: *pr

#åˆ†éš”ï¼Œä¸‹é¢æ˜¯åœ°åŒºåˆ†ç»„
  - name: é¦™æ¸¯
    filter: "æ¸¯|é¦™æ¸¯|HK|HongKong"
    <<: *u

  - name: å°æ¹¾
    filter: "å°|å°æ¹¾|TW|Taiwan"
    <<: *u

  - name: æ—¥æœ¬
    filter: "æ—¥|æ—¥æœ¬|JP|Japan"
    <<: *u

  - name: ç¾å›½
    filter: "ç¾|ç¾å›½|US|UnitedStates"
    <<: *u

  - name: æ–°åŠ å¡
    filter: "æ–°|æ–°åŠ å¡|SG|Singapore"
    <<: *u

  - name: ä¸­å›½
    filter: "å¹¿åœ|å¹¿ä¸œ|æ­å·|è…¾è®¯äº‘å¹¿å·|é˜¿é‡Œäº‘åŒ—äº¬|ä¸­å›½|å›½å†…|China"
    <<: *u

  - name: ä¸“çº¿
    filter: "IPLC|IEPL|CN2|GAPN|CUVIP|AIA"
    <<: *u

  - name: å…¶å®ƒåœ°åŒº
    filter: "^(?!.*(?:ğŸ‡­ğŸ‡°|ğŸ‡¯ğŸ‡µ|ğŸ‡ºğŸ‡¸|ğŸ‡¸ğŸ‡¬|ğŸ‡¨ğŸ‡³|å¹¿åœ|å¹¿ä¸œ|ä¸­å›½|å›½å†…|China|é¦™æ¸¯|hk|HK|hongkong|å°|å°æ¹¾|TW|taiwan|æ—¥æœ¬|jp|JP|æ–°åŠ å¡|sg|ç¾å›½|US)).*"
    <<: *u

  - name: å…¨éƒ¨
    <<: *u

  - name: è‡ªåŠ¨é€‰æ‹©
    <<: *u
    type: url-test
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    tolerance: 10

#æ±‰åŒ–ä¸€ä¸‹)ï¼Ÿ

  - name: ç›´è¿
    type: select
    proxies:
      - DIRECT

  - name: æ‹¦æˆª/é˜»æ–­
    type: select
    proxies:
      - REJECT

  - name: è·³è¿‡åŒ¹é…
    type: select
    proxies:
      - PASS

rule-providers:

  Google:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml"
    path: ./rule_providers/Google.yaml

  YouTube:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml"
    path: ./rule_providers/YouTube.yaml

  YouTubeMusic:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTubeMusic/YouTubeMusic.yaml"
    path: ./rule_providers/YouTubeMusic.yaml

  Telegram:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml"
    path: ./rule_providers/Telegram.yaml

  Netflix:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml"
    path: ./rule_providers/Netflix.yaml

  PayPal:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/PayPal/PayPal.yaml"
    path: ./rule_providers/PayPal.yaml

  Riot:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Riot/Riot.yaml"
    path: ./rule_providers/Riot.yaml

  bilibili:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml"
    path: ./rule_providers/BiliBili.yaml

  biliintl:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBiliIntl/BiliBiliIntl.yaml"
    path: ./rule_providers/biliintl.yaml

  Bahamut:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Bahamut/Bahamut.yaml"
    path: ./rule_providers/Bahamut.yaml

  Niconico:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Niconico/Niconico.yaml"
    path: ./rule_providers/Niconico.yaml

  ins:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Instagram/Instagram.yaml"
    path: ./rule_providers/ins.yaml

  Spotify:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.yaml"
    path: ./rule_providers/Spotify.yaml

  pixiv:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Pixiv/Pixiv.yaml"
    path: ./rule_providers/pixiv.yaml

  GV:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GoogleVoice/GoogleVoice.yaml"
    path: ./rule_providers/GV.yaml

  ehentai:
    <<: *c
    url: "https://raw.githubusercontent.com/xishang0128/clash-rules/main/ehentai.yaml"
    path: ./rule_providers/ehentai.yaml

  line:
    <<: *c
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Line/Line.yaml"
    path: ./rule_providers/line.yaml

rules:
  - AND,((DST-PORT,5228-5230),(NETWORK,TCP),(DOMAIN-KEYWORD,google)),DIRECT
  - RULE-SET,GV,Google Voice
  - RULE-SET,YouTube,YouTube
  - RULE-SET,YouTubeMusic,YouTube
  - RULE-SET,Google,Google
  - RULE-SET,Telegram,Telegram
  - RULE-SET,Netflix,NETFLIX
  - RULE-SET,PayPal,PayPal
  - RULE-SET,Riot,æ¸¸æˆ
  - RULE-SET,biliintl,å“”å“©ä¸œå—äºš
  - RULE-SET,bilibili,å“”å“©å“”å“©
  - RULE-SET,ins,Instagram
  - RULE-SET,line,line
  - RULE-SET,Niconico,Niconico
  - RULE-SET,Bahamut,å·´å“ˆå§†ç‰¹
  - RULE-SET,Spotify,Spotify
  - RULE-SET,pixiv,pixiv
  - RULE-SET,ehentai,ehentai
  - DOMAIN,api.weibo.cn,å¾®åšå®šä½
  - GEOSITE,CN,å›½å†…
  - GEOIP,CN,å›½å†…
  - MATCH,å…¶ä»–